import{d as $,r as _,j as B,c as M,a as e,w as a,o as F,b as f,i as s,n as y,E as L,k as z,u as P}from"./index-DAZDpghP.js";import{E as R}from"./dialog-CI4qXYgt.js";import{E as X,a as q}from"./form-item-D50nbGgb.js";import{E as A}from"./upload-DH-KqhJa.js";import"./progress-CA3fGClE.js";/* empty css            */import{E as G,a as H}from"./select-B_Nc0zOl.js";import"./scrollbar-BKn1N4ug.js";import{E as K}from"./input-BsUoEHjr.js";import{a as Q,E as W}from"./table-column-CkszfM6q.js";import"./checkbox-DDntw5na.js";import{E as Y}from"./popover--wAAUrH1.js";import{E as Z}from"./button-CFFx6FdR.js";import{E as h}from"./card-_e8Y2itV.js";import{E as ee}from"./index-i9SNigSW.js";import{E as C}from"./index-B4p_U5VT.js";import"./event-D5_Wo8Xc.js";import"./scroll-PXqKi88e.js";import"./index-17xiCnpu.js";import"./_baseClone-BBryStzM.js";import"./isEqual-DlB8YXyV.js";import"./strings-BN0-5NCg.js";import"./debounce-Bv_84CHO.js";import"./_baseIteratee-DgY2c_zD.js";import"./isPlainObject-CnEW4LJ3.js";const te={class:"dataset-list-page p-5"},ae={class:"flex items-center justify-between"},Te=$({__name:"dataset-list",setup(le){const c=P(),i=_([]),m=_(!1),o=_({name:"",description:"",purpose:"",format:""});function w(){return[{id:"ds-001",name:"客服对话数据集",format:"jsonl",latestVersion:"v1.2",status:"ready",dataCount:1e4,createTime:"2024-01-10 10:00:00",description:"",purpose:""},{id:"ds-002",name:"金融问答数据集",format:"json",latestVersion:"v1.0",status:"ready",dataCount:5e3,createTime:"2024-01-12 14:30:00",description:"",purpose:""}]}function S(n){localStorage.setItem("current-dataset",JSON.stringify(n)),c.push("/dataset-management/dataset-detail")}function k(n){localStorage.setItem("current-dataset",JSON.stringify(n)),c.push("/dataset-management/create-version")}function x(){const n={id:`ds-${Date.now()}`,name:o.value.name,format:o.value.format,latestVersion:"v1.0",status:"ready",dataCount:0,createTime:new Date().toLocaleString(),description:o.value.description,purpose:o.value.purpose};i.value.unshift(n),localStorage.setItem("datasets",JSON.stringify(i.value)),m.value=!1,C.success("数据集创建成功")}function D(n){i.value=i.value.filter(t=>t.id!==n),localStorage.setItem("datasets",JSON.stringify(i.value)),C.success("删除成功")}return B(()=>{const n=localStorage.getItem("datasets");i.value=n?JSON.parse(n):w()}),(n,t)=>{const u=Z,v=h,r=W,b=ee,N=Y,T=Q,g=K,p=q,d=H,E=G,I=z("i-ep-upload-filled"),O=L,J=A,j=X,U=R;return F(),M("div",te,[e(v,{class:"header-card"},{default:a(()=>[f("div",ae,[t[8]||(t[8]=f("h2",{class:"text-2xl font-bold"},"数据集管理",-1)),e(u,{type:"primary",onClick:t[0]||(t[0]=l=>m.value=!0)},{default:a(()=>t[7]||(t[7]=[s(" 创建数据集 ",-1)])),_:1,__:[7]})])]),_:1}),e(v,{class:"mt-4"},{default:a(()=>[e(T,{data:i.value,stripe:""},{default:a(()=>[e(r,{prop:"name",label:"数据集名称",width:"200"}),e(r,{prop:"id",label:"ID",width:"150"}),e(r,{prop:"format",label:"数据格式",width:"120",align:"center"},{default:a(({row:l})=>[e(b,{size:"small"},{default:a(()=>[s(y(l.format),1)]),_:2},1024)]),_:1}),e(r,{prop:"latestVersion",label:"最新版本",width:"120",align:"center"}),e(r,{label:"状态",width:"100",align:"center"},{default:a(({row:l})=>[e(b,{type:l.status==="ready"?"success":"warning"},{default:a(()=>[s(y(l.status==="ready"?"就绪":"处理中"),1)]),_:2},1032,["type"])]),_:1}),e(r,{prop:"dataCount",label:"数据量",width:"120",align:"center"}),e(r,{prop:"createTime",label:"创建时间",width:"180"}),e(r,{label:"操作",width:"250",fixed:"right"},{default:a(({row:l})=>[e(u,{link:"",type:"primary",onClick:V=>S(l)},{default:a(()=>t[9]||(t[9]=[s(" 详情 ",-1)])),_:2,__:[9]},1032,["onClick"]),e(u,{link:"",onClick:V=>k(l)},{default:a(()=>t[10]||(t[10]=[s(" 新建版本 ",-1)])),_:2,__:[10]},1032,["onClick"]),e(N,{title:"确定删除?",onConfirm:V=>D(l.id)},{reference:a(()=>[e(u,{link:"",type:"danger"},{default:a(()=>t[11]||(t[11]=[s(" 删除 ",-1)])),_:1,__:[11]})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])]),_:1}),e(U,{modelValue:m.value,"onUpdate:modelValue":t[6]||(t[6]=l=>m.value=l),title:"创建数据集",width:"600px"},{footer:a(()=>[e(u,{onClick:t[5]||(t[5]=l=>m.value=!1)},{default:a(()=>t[13]||(t[13]=[s("取消",-1)])),_:1,__:[13]}),e(u,{type:"primary",onClick:x},{default:a(()=>t[14]||(t[14]=[s(" 创建 ",-1)])),_:1,__:[14]})]),default:a(()=>[e(j,{model:o.value,"label-width":"120px"},{default:a(()=>[e(p,{label:"数据集名称"},{default:a(()=>[e(g,{modelValue:o.value.name,"onUpdate:modelValue":t[1]||(t[1]=l=>o.value.name=l),placeholder:"请输入数据集名称"},null,8,["modelValue"])]),_:1}),e(p,{label:"数据集描述"},{default:a(()=>[e(g,{modelValue:o.value.description,"onUpdate:modelValue":t[2]||(t[2]=l=>o.value.description=l),type:"textarea",rows:3},null,8,["modelValue"])]),_:1}),e(p,{label:"数据用途"},{default:a(()=>[e(E,{modelValue:o.value.purpose,"onUpdate:modelValue":t[3]||(t[3]=l=>o.value.purpose=l),placeholder:"选择数据用途"},{default:a(()=>[e(d,{label:"微调",value:"finetune"}),e(d,{label:"测评",value:"evaluation"}),e(d,{label:"预训练",value:"pretrain"})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"数据格式"},{default:a(()=>[e(E,{modelValue:o.value.format,"onUpdate:modelValue":t[4]||(t[4]=l=>o.value.format=l),placeholder:"选择数据格式"},{default:a(()=>[e(d,{label:"JSON",value:"json"}),e(d,{label:"JSONL",value:"jsonl"}),e(d,{label:"CSV",value:"csv"}),e(d,{label:"TXT",value:"txt"})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"上传文件"},{default:a(()=>[e(J,{drag:"",action:"#","auto-upload":!1},{default:a(()=>[e(O,{class:"el-icon--upload"},{default:a(()=>[e(I)]),_:1}),t[12]||(t[12]=f("div",{class:"el-upload__text"},[s("将文件拖到此处，或"),f("em",null,"点击上传")],-1))]),_:1,__:[12]})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{Te as default};
