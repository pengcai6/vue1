import{d as M,u as O,r as c,h as F,i as J,b as z,o as P,f as e,w as a,e as f,a as s,t as w,E as R,_ as X}from"./index-C1LNxWrc.js";import{E as q}from"./dialog-D1_iS1Vq.js";import{E as A,a as G}from"./form-item-BZC8dQDK.js";import{E as H}from"./upload-C3o_tUFb.js";import"./progress-D7FpNBk1.js";/* empty css            */import{E as K,a as Q}from"./select-BSsX693L.js";import"./scrollbar-CWDB5A-B.js";import{E as W}from"./input-LGwqt1-Y.js";import{E as Y,a as Z}from"./table-column-QOtjyKSd.js";import"./checkbox-D429Hkk4.js";import{E as h}from"./popover-DP0DHMQv.js";import{E as ee}from"./button-CfgjJGa2.js";import{E as te}from"./card-bOHwtd_N.js";import{g as ae,s as _}from"./storage-2nKQMLp0.js";import{E as le}from"./index-gsKI2Iim.js";import{E as y}from"./index-JFsgmBjq.js";import"./index-DaWWsILK.js";import"./scroll-RLo4NxSV.js";import"./index-DRLRXOGd.js";import"./_initCloneObject-T9RaIEd1.js";import"./use-form-common-props-dMO5F-Xy.js";import"./_baseClone-0EgoVDGI.js";import"./isEqual-CFwnnDW_.js";import"./strings-BOPxCUMK.js";import"./index-BPEUnmM4.js";import"./debounce-C4p0xsPh.js";import"./_baseIteratee-CNffayvf.js";import"./isPlainObject-BS8VhLgB.js";const oe={class:"dataset-list-page"},ne={class:"flex items-center justify-between"},se=M({__name:"dataset-list",setup(re){const v=O(),i=c([]),m=c(!1),o=c({name:"",description:"",purpose:"",format:""});function x(){return[{id:"ds-001",name:"客服对话数据集",format:"jsonl",latestVersion:"v1.2",status:"ready",dataCount:1e4,createTime:"2024-01-10 10:00:00"},{id:"ds-002",name:"金融问答数据集",format:"json",latestVersion:"v1.0",status:"ready",dataCount:5e3,createTime:"2024-01-12 14:30:00"}]}function k(n){_("current-dataset",n),v.push("/dataset-management/dataset-detail")}function D(n){_("current-dataset",n),v.push("/dataset-management/create-version")}function T(){const n={id:`ds-${Date.now()}`,name:o.value.name,format:o.value.format,latestVersion:"v1.0",status:"ready",dataCount:0,createTime:new Date().toLocaleString()};i.value.unshift(n),_("datasets",i.value),m.value=!1,y.success("数据集创建成功")}function S(n){i.value=i.value.filter(t=>t.id!==n),_("datasets",i.value),y.success("删除成功")}return F(()=>{const n=ae("datasets",[]);i.value=n.length>0?n:x()}),(n,t)=>{const u=ee,b=te,r=Z,E=le,U=h,$=Y,g=W,p=G,d=Q,V=K,j=J("i-ep-upload-filled"),I=R,N=H,B=A,L=q;return P(),z("div",oe,[e(b,{class:"header-card"},{default:a(()=>[f("div",ne,[t[8]||(t[8]=f("h2",{class:"text-2xl font-bold"},"数据集管理",-1)),e(u,{type:"primary",onClick:t[0]||(t[0]=l=>m.value=!0)},{default:a(()=>t[7]||(t[7]=[s(" 创建数据集 ",-1)])),_:1,__:[7]})])]),_:1}),e(b,{class:"mt-4"},{default:a(()=>[e($,{data:i.value,stripe:""},{default:a(()=>[e(r,{prop:"name",label:"数据集名称",width:"200"}),e(r,{prop:"id",label:"ID",width:"150"}),e(r,{prop:"format",label:"数据格式",width:"120",align:"center"},{default:a(({row:l})=>[e(E,{size:"small"},{default:a(()=>[s(w(l.format),1)]),_:2},1024)]),_:1}),e(r,{prop:"latestVersion",label:"最新版本",width:"120",align:"center"}),e(r,{label:"状态",width:"100",align:"center"},{default:a(({row:l})=>[e(E,{type:l.status==="ready"?"success":"warning"},{default:a(()=>[s(w(l.status==="ready"?"就绪":"处理中"),1)]),_:2},1032,["type"])]),_:1}),e(r,{prop:"dataCount",label:"数据量",width:"120",align:"center"}),e(r,{prop:"createTime",label:"创建时间",width:"180"}),e(r,{label:"操作",width:"250",fixed:"right"},{default:a(({row:l})=>[e(u,{link:"",type:"primary",onClick:C=>k(l)},{default:a(()=>t[9]||(t[9]=[s(" 详情 ",-1)])),_:2,__:[9]},1032,["onClick"]),e(u,{link:"",onClick:C=>D(l)},{default:a(()=>t[10]||(t[10]=[s(" 新建版本 ",-1)])),_:2,__:[10]},1032,["onClick"]),e(U,{title:"确定删除?",onConfirm:C=>S(l.id)},{reference:a(()=>[e(u,{link:"",type:"danger"},{default:a(()=>t[11]||(t[11]=[s("删除",-1)])),_:1,__:[11]})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])]),_:1}),e(L,{modelValue:m.value,"onUpdate:modelValue":t[6]||(t[6]=l=>m.value=l),title:"创建数据集",width:"600px"},{footer:a(()=>[e(u,{onClick:t[5]||(t[5]=l=>m.value=!1)},{default:a(()=>t[13]||(t[13]=[s("取消",-1)])),_:1,__:[13]}),e(u,{type:"primary",onClick:T},{default:a(()=>t[14]||(t[14]=[s("创建",-1)])),_:1,__:[14]})]),default:a(()=>[e(B,{model:o.value,"label-width":"120px"},{default:a(()=>[e(p,{label:"数据集名称"},{default:a(()=>[e(g,{modelValue:o.value.name,"onUpdate:modelValue":t[1]||(t[1]=l=>o.value.name=l),placeholder:"请输入数据集名称"},null,8,["modelValue"])]),_:1}),e(p,{label:"数据集描述"},{default:a(()=>[e(g,{modelValue:o.value.description,"onUpdate:modelValue":t[2]||(t[2]=l=>o.value.description=l),type:"textarea",rows:3},null,8,["modelValue"])]),_:1}),e(p,{label:"数据用途"},{default:a(()=>[e(V,{modelValue:o.value.purpose,"onUpdate:modelValue":t[3]||(t[3]=l=>o.value.purpose=l),placeholder:"选择数据用途"},{default:a(()=>[e(d,{label:"微调",value:"finetune"}),e(d,{label:"测评",value:"evaluation"}),e(d,{label:"预训练",value:"pretrain"})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"数据格式"},{default:a(()=>[e(V,{modelValue:o.value.format,"onUpdate:modelValue":t[4]||(t[4]=l=>o.value.format=l),placeholder:"选择数据格式"},{default:a(()=>[e(d,{label:"JSON",value:"json"}),e(d,{label:"JSONL",value:"jsonl"}),e(d,{label:"CSV",value:"csv"}),e(d,{label:"TXT",value:"txt"})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"上传文件"},{default:a(()=>[e(N,{drag:"",action:"#","auto-upload":!1},{default:a(()=>[e(I,{class:"el-icon--upload"},{default:a(()=>[e(j)]),_:1}),t[12]||(t[12]=f("div",{class:"el-upload__text"},[s(" 将文件拖到此处，或"),f("em",null,"点击上传")],-1))]),_:1,__:[12]})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),Oe=X(se,[["__scopeId","data-v-177d3d78"]]);export{Oe as default};
