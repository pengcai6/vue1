import{d as x,r as B,j as I,c as J,a as e,w as o,o as f,b as _,i as s,n as g,l as M,m as O,u as $}from"./index-DAZDpghP.js";import{a as D,E as V}from"./table-column-CkszfM6q.js";import"./checkbox-DDntw5na.js";import"./scrollbar-BKn1N4ug.js";import{E as L}from"./popover--wAAUrH1.js";import{E as P}from"./button-CFFx6FdR.js";/* empty css            */import{E as j}from"./card-_e8Y2itV.js";import{E as F}from"./index-i9SNigSW.js";import{E as v}from"./index-B4p_U5VT.js";import"./event-D5_Wo8Xc.js";import"./isPlainObject-CnEW4LJ3.js";import"./_baseIteratee-DgY2c_zD.js";import"./isEqual-DlB8YXyV.js";import"./debounce-Bv_84CHO.js";import"./index-17xiCnpu.js";const G={class:"service-list-page p-5"},R={class:"flex items-center justify-between"},se=x({__name:"service-list",setup(X){const c=$(),r=B([]);function y(){return[{id:"1",serviceName:"llama2-chat-service",status:"running",online:!0,modelName:"Llama-2-7B",replicas:3,cluster:"gpu-cluster-01",createTime:"2024-01-15 10:00:00"},{id:"2",serviceName:"chatglm-service",status:"running",online:!0,modelName:"ChatGLM-6B",replicas:2,cluster:"gpu-cluster-02",createTime:"2024-01-15 11:30:00"},{id:"3",serviceName:"sd-image-service",status:"stopped",online:!1,modelName:"Stable-Diffusion-XL",replicas:1,cluster:"gpu-cluster-01",createTime:"2024-01-14 15:00:00"}]}function k(){c.push("/model-deployment/one-click-deploy")}function N(n){localStorage.setItem("current-service",JSON.stringify(n)),c.push("/model-deployment/deployment-detail")}function b(n){localStorage.setItem("current-service",JSON.stringify(n)),c.push("/model-deployment/pod-logs")}function C(n){localStorage.setItem("current-service",JSON.stringify(n)),c.push("/model-deployment/performance-monitoring")}function S(n){n.status="stopped",n.online=!1,p(),v.success("服务已停止")}function E(n){r.value=r.value.filter(t=>t.id!==n),p(),v.success("服务已删除")}function p(){localStorage.setItem("deployment-services",JSON.stringify(r.value))}function w(){const n=localStorage.getItem("deployment-services");r.value=n?JSON.parse(n):y()}return I(()=>{w()}),(n,t)=>{const a=P,u=j,i=V,d=F,T=L,h=D;return f(),J("div",G,[e(u,{class:"header-card"},{default:o(()=>[_("div",R,[t[1]||(t[1]=_("h2",{class:"text-2xl font-bold"},"模型服务列表",-1)),e(a,{type:"primary",onClick:k},{default:o(()=>t[0]||(t[0]=[s(" 一键部署 ",-1)])),_:1,__:[0]})])]),_:1}),e(u,{class:"mt-4"},{default:o(()=>[e(h,{data:r.value,stripe:""},{default:o(()=>[e(i,{prop:"serviceName",label:"服务名称",width:"200"}),e(i,{label:"服务状态",width:"120",align:"center"},{default:o(({row:l})=>[e(d,{type:l.status==="running"?"success":"info"},{default:o(()=>[s(g(l.status==="running"?"运行中":"已停止"),1)]),_:2},1032,["type"])]),_:1}),e(i,{label:"上线状态",width:"120",align:"center"},{default:o(({row:l})=>[e(d,{type:l.online?"success":"warning"},{default:o(()=>[s(g(l.online?"已上线":"未上线"),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"modelName",label:"模型名称",width:"180"}),e(i,{prop:"replicas",label:"副本数",width:"100",align:"center"}),e(i,{prop:"cluster",label:"集群",width:"150"}),e(i,{prop:"createTime",label:"创建时间",width:"180"}),e(i,{label:"操作",width:"300",fixed:"right"},{default:o(({row:l})=>[e(a,{link:"",type:"primary",onClick:m=>N(l)},{default:o(()=>t[2]||(t[2]=[s(" 详情 ",-1)])),_:2,__:[2]},1032,["onClick"]),e(a,{link:"",onClick:m=>b(l)},{default:o(()=>t[3]||(t[3]=[s(" Pod列表 ",-1)])),_:2,__:[3]},1032,["onClick"]),e(a,{link:"",onClick:m=>C(l)},{default:o(()=>t[4]||(t[4]=[s(" 性能监控 ",-1)])),_:2,__:[4]},1032,["onClick"]),l.status==="running"?(f(),M(a,{key:0,link:"",type:"warning",onClick:m=>S(l)},{default:o(()=>t[5]||(t[5]=[s(" 停止 ",-1)])),_:2,__:[5]},1032,["onClick"])):O("",!0),e(T,{title:"确定要删除此服务吗？",onConfirm:m=>E(l.id)},{reference:o(()=>[e(a,{link:"",type:"danger"},{default:o(()=>t[6]||(t[6]=[s(" 删除 ",-1)])),_:1,__:[6]})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])]),_:1})])}}});export{se as default};
