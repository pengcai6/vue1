import{d as E,u as g,r as c,b as R,o as w,f as e,w as t,e as B,a as s,_ as U}from"./index-C1LNxWrc.js";import{E as N}from"./card-bOHwtd_N.js";import{E as S,a as T}from"./form-item-BZC8dQDK.js";import{E as A}from"./button-CfgjJGa2.js";import{E as L}from"./input-LGwqt1-Y.js";import{E as D}from"./input-number-BdlakYFh.js";/* empty css            */import{E as M,a as C}from"./select-BSsX693L.js";import"./scrollbar-CWDB5A-B.js";import{E as y}from"./divider-cQog8eF3.js";import{g as q,s as z}from"./storage-2nKQMLp0.js";import{E as v}from"./index-JFsgmBjq.js";import"./_initCloneObject-T9RaIEd1.js";import"./index-DRLRXOGd.js";import"./use-form-common-props-dMO5F-Xy.js";import"./_baseClone-0EgoVDGI.js";import"./index-BPEUnmM4.js";import"./index-BYwYey8Q.js";import"./index-gsKI2Iim.js";import"./strings-BOPxCUMK.js";import"./isEqual-CFwnnDW_.js";import"./scroll-RLo4NxSV.js";import"./debounce-C4p0xsPh.js";import"./_baseIteratee-CNffayvf.js";const I={class:"create-task-page"},F=E({__name:"create-task",setup(G){const i=g(),a=c({taskName:"",description:"",baseModel:"",dataset:"",learningRate:1e-4,epochs:3,batchSize:8,loraRank:8,loraAlpha:16,loraDropout:.1,maxTokens:2048});function b(){if(!a.value.taskName||!a.value.baseModel||!a.value.dataset){v.warning("请填写必填项");return}const r=q("finetune-tasks",[]),l={id:Date.now().toString(),...a.value,status:"pending",progress:0,createTime:new Date().toLocaleString()};r.unshift(l),z("finetune-tasks",r),v.success("微调任务创建成功"),i.push("/model-finetune/task-list")}function V(){i.back()}return(r,l)=>{const d=y,p=L,n=T,u=C,f=M,m=D,_=A,k=S,x=N;return w(),R("div",I,[e(x,null,{default:t(()=>[l[16]||(l[16]=B("h2",{class:"text-2xl font-bold mb-4"}," 创建微调任务 (LoRA) ",-1)),e(k,{model:a.value,"label-width":"150px"},{default:t(()=>[e(d,{"content-position":"left"},{default:t(()=>l[11]||(l[11]=[s("基础信息",-1)])),_:1,__:[11]}),e(n,{label:"任务名称",required:""},{default:t(()=>[e(p,{modelValue:a.value.taskName,"onUpdate:modelValue":l[0]||(l[0]=o=>a.value.taskName=o),placeholder:"请输入任务名称"},null,8,["modelValue"])]),_:1}),e(n,{label:"任务描述"},{default:t(()=>[e(p,{modelValue:a.value.description,"onUpdate:modelValue":l[1]||(l[1]=o=>a.value.description=o),type:"textarea",rows:3,placeholder:"请输入任务描述"},null,8,["modelValue"])]),_:1}),e(d,{"content-position":"left"},{default:t(()=>l[12]||(l[12]=[s("模型配置",-1)])),_:1,__:[12]}),e(n,{label:"基座模型",required:""},{default:t(()=>[e(f,{modelValue:a.value.baseModel,"onUpdate:modelValue":l[2]||(l[2]=o=>a.value.baseModel=o),placeholder:"选择基座模型",style:{width:"100%"}},{default:t(()=>[e(u,{label:"Llama-2-7B",value:"llama-2-7b"}),e(u,{label:"ChatGLM-6B",value:"chatglm-6b"}),e(u,{label:"Qwen-7B",value:"qwen-7b"}),e(u,{label:"Baichuan-13B",value:"baichuan-13b"})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"微调数据集",required:""},{default:t(()=>[e(f,{modelValue:a.value.dataset,"onUpdate:modelValue":l[3]||(l[3]=o=>a.value.dataset=o),placeholder:"选择数据集",style:{width:"100%"}},{default:t(()=>[e(u,{label:"自定义对话数据集-v1",value:"custom-chat-v1"}),e(u,{label:"指令微调数据集",value:"instruction-dataset"}),e(u,{label:"金融领域数据集",value:"finance-dataset"})]),_:1},8,["modelValue"])]),_:1}),e(d,{"content-position":"left"},{default:t(()=>l[13]||(l[13]=[s("微调参数",-1)])),_:1,__:[13]}),e(n,{label:"Learning Rate"},{default:t(()=>[e(m,{modelValue:a.value.learningRate,"onUpdate:modelValue":l[4]||(l[4]=o=>a.value.learningRate=o),min:1e-5,max:.01,step:1e-5,precision:5},null,8,["modelValue"])]),_:1}),e(n,{label:"Number of Epochs"},{default:t(()=>[e(m,{modelValue:a.value.epochs,"onUpdate:modelValue":l[5]||(l[5]=o=>a.value.epochs=o),min:1,max:20},null,8,["modelValue"])]),_:1}),e(n,{label:"Batch Size"},{default:t(()=>[e(m,{modelValue:a.value.batchSize,"onUpdate:modelValue":l[6]||(l[6]=o=>a.value.batchSize=o),min:1,max:128},null,8,["modelValue"])]),_:1}),e(n,{label:"LoRA Rank"},{default:t(()=>[e(m,{modelValue:a.value.loraRank,"onUpdate:modelValue":l[7]||(l[7]=o=>a.value.loraRank=o),min:1,max:256},null,8,["modelValue"])]),_:1}),e(n,{label:"LoRA Alpha"},{default:t(()=>[e(m,{modelValue:a.value.loraAlpha,"onUpdate:modelValue":l[8]||(l[8]=o=>a.value.loraAlpha=o),min:1,max:512},null,8,["modelValue"])]),_:1}),e(n,{label:"LoRA Dropout"},{default:t(()=>[e(m,{modelValue:a.value.loraDropout,"onUpdate:modelValue":l[9]||(l[9]=o=>a.value.loraDropout=o),min:0,max:1,step:.1,precision:1},null,8,["modelValue"])]),_:1}),e(n,{label:"Max Tokens"},{default:t(()=>[e(m,{modelValue:a.value.maxTokens,"onUpdate:modelValue":l[10]||(l[10]=o=>a.value.maxTokens=o),min:512,max:4096,step:512},null,8,["modelValue"])]),_:1}),e(n,null,{default:t(()=>[e(_,{type:"primary",onClick:b},{default:t(()=>l[14]||(l[14]=[s(" 创建任务 ",-1)])),_:1,__:[14]}),e(_,{onClick:V},{default:t(()=>l[15]||(l[15]=[s(" 取消 ",-1)])),_:1,__:[15]})]),_:1})]),_:1},8,["model"])]),_:1,__:[16]})])}}}),ie=U(F,[["__scopeId","data-v-0890efdd"]]);export{ie as default};
