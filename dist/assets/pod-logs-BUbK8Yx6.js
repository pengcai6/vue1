import{d as k,r as n,c as m,a as e,w as a,o as u,b,i as r,p as c,G as V,H as T,_ as x}from"./index-BX2sZVyW.js";import{E as I}from"./dialog-BbJ9SoMc.js";import{E as S}from"./card-B6phTZGW.js";import{a as U,E as G}from"./table-column-DG__lvqo.js";import"./checkbox-B8dDd1Mj.js";import"./scrollbar-C9NSq6wy.js";import{E as B}from"./button-Cn9gqGCu.js";/* empty css            */import"./divider-Cw9FL3-C.js";import{E as F}from"./page-header-BYBfeuC8.js";import{E as L}from"./index-BFcHm1-Q.js";import"./event-BORzi4vc.js";import"./scroll-g5r06U3K.js";import"./index-PwB6y63X.js";import"./isPlainObject-jZyBOBeK.js";import"./debounce-DYp1oJWc.js";import"./isEqual-ohjdCfDM.js";const D={class:"pod-logs-page"},O={class:"log-viewer"},$=k({__name:"pod-logs",setup(R){const w=n([{podName:"llama2-chat-service-7b8f9d-0",status:"Running",cluster:"gpu-cluster-01",node:"gpu-node-01",gpuCards:"GPU-0,GPU-1",restarts:0,podIP:"10.244.1.5"},{podName:"llama2-chat-service-7b8f9d-1",status:"Running",cluster:"gpu-cluster-01",node:"gpu-node-02",gpuCards:"GPU-0,GPU-1",restarts:0,podIP:"10.244.2.8"}]),d=n(!1),i=n(!1),y=n(["[2024-01-15 14:30:00] INFO: Starting model service...","[2024-01-15 14:30:05] INFO: Loading model weights...","[2024-01-15 14:30:20] INFO: Model loaded successfully","[2024-01-15 14:30:25] INFO: Server listening on port 8000"]),h=n([{type:"Normal",reason:"Scheduled",message:"Successfully assigned default/llama2-chat-service-7b8f9d-0 to gpu-node-01",count:1,lastTimestamp:"2024-01-15 14:30:00"},{type:"Normal",reason:"Pulling",message:'Pulling image "registry.example.com/models/llama2:7b"',count:1,lastTimestamp:"2024-01-15 14:30:02"},{type:"Normal",reason:"Pulled",message:'Successfully pulled image "registry.example.com/models/llama2:7b"',count:1,lastTimestamp:"2024-01-15 14:30:15"},{type:"Normal",reason:"Created",message:"Created container model-service",count:1,lastTimestamp:"2024-01-15 14:30:16"},{type:"Normal",reason:"Started",message:"Started container model-service",count:1,lastTimestamp:"2024-01-15 14:30:17"}]);function N(s){console.log("[大模型服务平台] Viewing logs for:",s.podName),d.value=!0}function E(s){console.log("[大模型服务平台] View events for:",s),i.value=!0}return(s,l)=>{const P=F,o=G,g=L,_=B,f=U,C=S,v=I;return u(),m("div",D,[e(P,{onBack:l[0]||(l[0]=t=>s.$router.back())},{content:a(()=>l[3]||(l[3]=[b("span",{class:"text-2xl font-bold"},"容器组（Pod）与日志",-1)])),_:1}),e(C,{class:"mt-4"},{default:a(()=>[e(f,{data:w.value,stripe:"",style:{width:"100%"}},{default:a(()=>[e(o,{prop:"podName",label:"容器组名称","min-width":"250"}),e(o,{label:"状态",width:"120",align:"center"},{default:a(({row:t})=>[e(g,{type:t.status==="Running"?"success":"warning"},{default:a(()=>[r(c(t.status),1)]),_:2},1032,["type"])]),_:1}),e(o,{prop:"cluster",label:"集群","min-width":"150"}),e(o,{prop:"node",label:"所在节点","min-width":"180"}),e(o,{prop:"gpuCards",label:"所占GPU卡","min-width":"150"}),e(o,{prop:"restarts",label:"重启次数",width:"100",align:"center"}),e(o,{prop:"podIP",label:"容器组IP","min-width":"150"}),e(o,{label:"操作",width:"200",fixed:"right"},{default:a(({row:t})=>[e(_,{link:"",type:"primary",onClick:p=>N(t)},{default:a(()=>l[4]||(l[4]=[r(" 查看日志 ",-1)])),_:2,__:[4]},1032,["onClick"]),e(_,{link:"",onClick:p=>E(t)},{default:a(()=>l[5]||(l[5]=[r(" 查看事件 ",-1)])),_:2,__:[5]},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),e(v,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=t=>d.value=t),title:"容器日志",width:"80%","append-to-body":""},{default:a(()=>[b("div",O,[(u(!0),m(V,null,T(y.value,(t,p)=>(u(),m("div",{key:p,class:"log-line"},c(t),1))),128))])]),_:1},8,["modelValue"]),e(v,{modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=t=>i.value=t),title:"容器事件",width:"80%","append-to-body":""},{default:a(()=>[e(f,{data:h.value,stripe:"",style:{width:"100%"}},{default:a(()=>[e(o,{prop:"type",label:"类型",width:"100"},{default:a(({row:t})=>[e(g,{type:t.type==="Normal"?"info":"warning"},{default:a(()=>[r(c(t.type),1)]),_:2},1032,["type"])]),_:1}),e(o,{prop:"reason",label:"原因",width:"150"}),e(o,{prop:"message",label:"消息"}),e(o,{prop:"count",label:"次数",width:"80",align:"center"}),e(o,{prop:"lastTimestamp",label:"最后时间",width:"180"})]),_:1},8,["data"])]),_:1},8,["modelValue"])])}}}),le=x($,[["__scopeId","data-v-9ddcce0f"]]);export{le as default};
