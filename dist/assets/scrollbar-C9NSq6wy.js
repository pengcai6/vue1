import{S as oe,k as ne}from"./event-BORzi4vc.js";import{b as Q}from"./isEqual-ohjdCfDM.js";import{cl as ie,cv as Z,c6 as V,cc as ce,cw as ue,c4 as fe,ck as ve,aG as de,x as G,A as K,d as x,R as ee,C as te,q as me,r as h,D as A,$ as pe,b3 as D,a1 as U,m as W,o as T,w as ae,aC as he,b as $,K as be,J as H,e as y,L as I,aE as ge,aF as ye,aB as Se,c as re,a as Y,G as we,a7 as P,b0 as Ee,y as _e,aj as q,Y as X,a0 as ze,aa as Re,cx as Ce,j as Ae,ag as J,aJ as Le,n as Pe,F as Te,ab as He,bj as Oe,c2 as ke,a4 as Me}from"./index-BX2sZVyW.js";var Ne=1,xe=2;function Be(e,r,l,s){var n=l.length,m=n;if(e==null)return!m;for(e=Object(e);n--;){var u=l[n];if(u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++n<m;){u=l[n];var f=u[0],i=e[f],c=u[1];if(u[2]){if(i===void 0&&!(f in e))return!1}else{var g=new oe,S;if(!(S===void 0?Q(c,i,Ne|xe,s,g):S))return!1}}return!0}function le(e){return e===e&&!ie(e)}function De(e){for(var r=ne(e),l=r.length;l--;){var s=r[l],n=e[s];r[l]=[s,n,le(n)]}return r}function se(e,r){return function(l){return l==null?!1:l[e]===r&&(r!==void 0||e in Object(l))}}function We(e){var r=De(e);return r.length==1&&r[0][2]?se(r[0][0],r[0][1]):function(l){return l===e||Be(l,e,r)}}var $e=1,Ie=2;function Ge(e,r){return Z(e)&&le(r)?se(V(e),r):function(l){var s=ce(l,e);return s===void 0&&s===r?ue(l,e):Q(r,s,$e|Ie)}}function Ke(e){return function(r){return r==null?void 0:r[e]}}function Fe(e){return function(r){return fe(r,e)}}function Ue(e){return Z(e)?Ke(V(e)):Fe(e)}function ct(e){return typeof e=="function"?e:e==null?ve:typeof e=="object"?de(e)?Ge(e[0],e[1]):We(e):Ue(e)}const C=4,Ye={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},qe=({move:e,size:r,bar:l})=>({[l.size]:r,transform:`translate${l.axis}(${e}%)`}),F=Symbol("scrollbarContextKey"),Xe=G({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Je="Thumb",je=x({__name:"thumb",props:Xe,setup(e){const r=e,l=ee(F),s=te("scrollbar");l||me(Je,"can not inject scrollbar context");const n=h(),m=h(),u=h({}),f=h(!1);let i=!1,c=!1,g=0,S=0,a=Se?document.onselectstart:null;const o=A(()=>Ye[r.vertical?"vertical":"horizontal"]),b=A(()=>qe({size:r.size,move:r.move,bar:o.value})),E=A(()=>n.value[o.value.offset]**2/l.wrapElement[o.value.scrollSize]/r.ratio/m.value[o.value.offset]),R=d=>{var p;if(d.stopPropagation(),d.ctrlKey||[1,2].includes(d.button))return;(p=window.getSelection())==null||p.removeAllRanges(),z(d);const t=d.currentTarget;t&&(u.value[o.value.axis]=t[o.value.offset]-(d[o.value.client]-t.getBoundingClientRect()[o.value.direction]))},_=d=>{if(!m.value||!n.value||!l.wrapElement)return;const p=Math.abs(d.target.getBoundingClientRect()[o.value.direction]-d[o.value.client]),t=m.value[o.value.offset]/2,v=(p-t)*100*E.value/n.value[o.value.offset];l.wrapElement[o.value.scroll]=v*l.wrapElement[o.value.scrollSize]/100},z=d=>{d.stopImmediatePropagation(),i=!0,g=l.wrapElement.scrollHeight,S=l.wrapElement.scrollWidth,document.addEventListener("mousemove",O),document.addEventListener("mouseup",L),a=document.onselectstart,document.onselectstart=()=>!1},O=d=>{if(!n.value||!m.value||i===!1)return;const p=u.value[o.value.axis];if(!p)return;const t=(n.value.getBoundingClientRect()[o.value.direction]-d[o.value.client])*-1,v=m.value[o.value.offset]-p,w=(t-v)*100*E.value/n.value[o.value.offset];o.value.scroll==="scrollLeft"?l.wrapElement[o.value.scroll]=w*S/100:l.wrapElement[o.value.scroll]=w*g/100},L=()=>{i=!1,u.value[o.value.axis]=0,document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",L),M(),c&&(f.value=!1)},k=()=>{c=!1,f.value=!!r.size},B=()=>{c=!0,f.value=i};pe(()=>{M(),document.removeEventListener("mouseup",L)});const M=()=>{document.onselectstart!==a&&(document.onselectstart=a)};return D(U(l,"scrollbarElement"),"mousemove",k),D(U(l,"scrollbarElement"),"mouseleave",B),(d,p)=>(T(),W(ye,{name:y(s).b("fade"),persisted:""},{default:ae(()=>[he($("div",{ref_key:"instance",ref:n,class:H([y(s).e("bar"),y(s).is(y(o).key)]),onMousedown:_,onClick:be(()=>{},["stop"])},[$("div",{ref_key:"thumb",ref:m,class:H(y(s).e("thumb")),style:I(y(b)),onMousedown:R},null,38)],42,["onClick"]),[[ge,d.always||f.value]])]),_:1},8,["name"]))}});var j=K(je,[["__file","thumb.vue"]]);const Qe=G({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Ze=x({__name:"bar",props:Qe,setup(e,{expose:r}){const l=e,s=ee(F),n=h(0),m=h(0),u=h(""),f=h(""),i=h(1),c=h(1);return r({handleScroll:a=>{if(a){const o=a.offsetHeight-C,b=a.offsetWidth-C;m.value=a.scrollTop*100/o*i.value,n.value=a.scrollLeft*100/b*c.value}},update:()=>{const a=s==null?void 0:s.wrapElement;if(!a)return;const o=a.offsetHeight-C,b=a.offsetWidth-C,E=o**2/a.scrollHeight,R=b**2/a.scrollWidth,_=Math.max(E,l.minSize),z=Math.max(R,l.minSize);i.value=E/(o-E)/(_/(o-_)),c.value=R/(b-R)/(z/(b-z)),f.value=_+C<o?`${_}px`:"",u.value=z+C<b?`${z}px`:""}}),(a,o)=>(T(),re(we,null,[Y(j,{move:n.value,ratio:c.value,size:u.value,always:a.always},null,8,["move","ratio","size","always"]),Y(j,{move:m.value,ratio:i.value,size:f.value,vertical:"",always:a.always},null,8,["move","ratio","size","always"])],64))}});var Ve=K(Ze,[["__file","bar.vue"]]);const et=G({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:_e([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Ee(["ariaLabel","ariaOrientation"])}),tt={"end-reached":e=>["left","right","top","bottom"].includes(e),scroll:({scrollTop:e,scrollLeft:r})=>[e,r].every(P)},at="ElScrollbar",rt=x({name:at}),lt=x({...rt,props:et,emits:tt,setup(e,{expose:r,emit:l}){const s=e,n=te("scrollbar");let m,u,f=0,i=0,c="";const g={bottom:!1,top:!1,right:!1,left:!1},S=h(),a=h(),o=h(),b=h(),E=A(()=>{const t={};return s.height&&(t.height=q(s.height)),s.maxHeight&&(t.maxHeight=q(s.maxHeight)),[s.wrapStyle,t]}),R=A(()=>[s.wrapClass,n.e("wrap"),{[n.em("wrap","hidden-default")]:!s.native}]),_=A(()=>[n.e("view"),s.viewClass]),z=t=>{var v;return(v=g[t])!=null?v:!1},O={top:"bottom",bottom:"top",left:"right",right:"left"},L=t=>{const v=O[c];if(!v)return;const w=t[c],N=t[v];w&&!g[c]&&(g[c]=!0),!N&&g[v]&&(g[v]=!1)},k=()=>{var t;if(a.value){(t=b.value)==null||t.handleScroll(a.value);const v=f,w=i;f=a.value.scrollTop,i=a.value.scrollLeft;const N={bottom:f+a.value.clientHeight>=a.value.scrollHeight-s.distance,top:f<=s.distance&&v!==0,right:i+a.value.clientWidth>=a.value.scrollWidth-s.distance&&w!==i,left:i<=s.distance&&w!==0};if(l("scroll",{scrollTop:f,scrollLeft:i}),v!==f&&(c=f>v?"bottom":"top"),w!==i&&(c=i>w?"right":"left"),s.distance>0){if(z(c))return;L(N)}N[c]&&l("end-reached",c)}};function B(t,v){Oe(t)?a.value.scrollTo(t):P(t)&&P(v)&&a.value.scrollTo(t,v)}const M=t=>{P(t)&&(a.value.scrollTop=t)},d=t=>{P(t)&&(a.value.scrollLeft=t)},p=()=>{var t;(t=b.value)==null||t.update(),g[c]=!1};return X(()=>s.noresize,t=>{t?(m==null||m(),u==null||u()):({stop:m}=ke(o,p),u=D("resize",p))},{immediate:!0}),X(()=>[s.maxHeight,s.height],()=>{s.native||J(()=>{var t;p(),a.value&&((t=b.value)==null||t.handleScroll(a.value))})}),ze(F,Re({scrollbarElement:S,wrapElement:a})),Ce(()=>{a.value&&(a.value.scrollTop=f,a.value.scrollLeft=i)}),Ae(()=>{s.native||J(()=>{p()})}),Le(()=>p()),r({wrapRef:a,update:p,scrollTo:B,setScrollTop:M,setScrollLeft:d,handleScroll:k}),(t,v)=>(T(),re("div",{ref_key:"scrollbarRef",ref:S,class:H(y(n).b())},[$("div",{ref_key:"wrapRef",ref:a,class:H(y(R)),style:I(y(E)),tabindex:t.tabindex,onScroll:k},[(T(),W(He(t.tag),{id:t.id,ref_key:"resizeRef",ref:o,class:H(y(_)),style:I(t.viewStyle),role:t.role,"aria-label":t.ariaLabel,"aria-orientation":t.ariaOrientation},{default:ae(()=>[Te(t.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),t.native?Pe("v-if",!0):(T(),W(Ve,{key:0,ref_key:"barRef",ref:b,always:t.always,"min-size":t.minSize},null,8,["always","min-size"]))],2))}});var st=K(lt,[["__file","scrollbar.vue"]]);const ut=Me(st);export{ut as E,ct as b,tt as s};
