import{d as U,r as _,j as $,c as M,a as e,w as a,o as B,b as f,i as r,p as y,E as F,e as L,k as z,u as P,l as C}from"./index-BX2sZVyW.js";import{E as R}from"./dialog-BbJ9SoMc.js";import{E as X,a as q}from"./form-item-BCUJoI1X.js";import{E as A}from"./upload-dE4C5nPJ.js";import"./progress-B1_RPwJG.js";/* empty css            */import{E as G,a as H}from"./select-9k77N6f3.js";import"./scrollbar-C9NSq6wy.js";import{E as K}from"./input-5aB7ALv6.js";import{a as Q,E as W}from"./table-column-DG__lvqo.js";import"./checkbox-B8dDd1Mj.js";import{E as Y}from"./popover-RKPTbPoo.js";import{E as Z}from"./button-Cn9gqGCu.js";import{E as h}from"./card-B6phTZGW.js";import{E as ee}from"./index-BFcHm1-Q.js";import"./event-BORzi4vc.js";import"./scroll-g5r06U3K.js";import"./index-PwB6y63X.js";import"./_baseClone-BOpOh07B.js";import"./isEqual-ohjdCfDM.js";import"./strings-JcT2fde-.js";import"./debounce-DYp1oJWc.js";import"./isPlainObject-jZyBOBeK.js";const te={class:"dataset-list-page p-5"},ae={class:"flex items-center justify-between"},De=U({__name:"dataset-list",setup(le){const c=P(),s=_([]),m=_(!1),o=_({name:"",description:"",purpose:"",format:""});function S(){return[{id:"ds-001",name:"客服对话数据集",format:"jsonl",latestVersion:"v1.2",status:"ready",dataCount:1e4,createTime:"2024-01-10 10:00:00",description:"",purpose:""},{id:"ds-002",name:"金融问答数据集",format:"json",latestVersion:"v1.0",status:"ready",dataCount:5e3,createTime:"2024-01-12 14:30:00",description:"",purpose:""}]}function w(n){localStorage.setItem("current-dataset",JSON.stringify(n)),c.push("/dataset-management/dataset-detail")}function k(n){localStorage.setItem("current-dataset",JSON.stringify(n)),c.push("/dataset-management/create-version")}function x(){const n={id:`ds-${Date.now()}`,name:o.value.name,format:o.value.format,latestVersion:"v1.0",status:"ready",dataCount:Math.floor(Math.random()*1e4)+100,createTime:new Date().toLocaleString(),description:o.value.description,purpose:o.value.purpose};s.value.unshift(n),localStorage.setItem("datasets",JSON.stringify(s.value)),m.value=!1,C.success("数据集创建成功")}function D(n){s.value=s.value.filter(t=>t.id!==n),localStorage.setItem("datasets",JSON.stringify(s.value)),C.success("删除成功")}return $(()=>{const n=localStorage.getItem("datasets");n?s.value=JSON.parse(n):(s.value=S(),localStorage.setItem("datasets",JSON.stringify(s.value)))}),(n,t)=>{const d=Z,v=h,i=W,g=ee,N=Y,I=Q,b=K,p=q,u=H,E=G,T=F,O=A,J=X,j=R;return B(),M("div",te,[e(v,{class:"header-card"},{default:a(()=>[f("div",ae,[t[8]||(t[8]=f("h2",{class:"text-2xl font-bold"},"数据集管理",-1)),e(d,{type:"primary",onClick:t[0]||(t[0]=l=>m.value=!0)},{default:a(()=>t[7]||(t[7]=[r(" 创建数据集 ",-1)])),_:1,__:[7]})])]),_:1}),e(v,{class:"mt-4"},{default:a(()=>[e(I,{data:s.value,stripe:""},{default:a(()=>[e(i,{prop:"name",label:"数据集名称",width:"200"}),e(i,{prop:"id",label:"ID",width:"150"}),e(i,{prop:"format",label:"数据格式",width:"120",align:"center"},{default:a(({row:l})=>[e(g,{size:"small"},{default:a(()=>[r(y(l.format),1)]),_:2},1024)]),_:1}),e(i,{prop:"latestVersion",label:"最新版本",width:"120",align:"center"}),e(i,{label:"状态",width:"100",align:"center"},{default:a(({row:l})=>[e(g,{type:l.status==="ready"?"success":"warning"},{default:a(()=>[r(y(l.status==="ready"?"就绪":"处理中"),1)]),_:2},1032,["type"])]),_:1}),e(i,{prop:"dataCount",label:"数据量",width:"120",align:"center"}),e(i,{prop:"createTime",label:"创建时间",width:"180"}),e(i,{label:"操作",width:"250",fixed:"right"},{default:a(({row:l})=>[e(d,{link:"",type:"primary",onClick:V=>w(l)},{default:a(()=>t[9]||(t[9]=[r(" 详情 ",-1)])),_:2,__:[9]},1032,["onClick"]),e(d,{link:"",onClick:V=>k(l)},{default:a(()=>t[10]||(t[10]=[r(" 新建版本 ",-1)])),_:2,__:[10]},1032,["onClick"]),e(N,{title:"确定删除?",onConfirm:V=>D(l.id)},{reference:a(()=>[e(d,{link:"",type:"danger"},{default:a(()=>t[11]||(t[11]=[r(" 删除 ",-1)])),_:1,__:[11]})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])]),_:1}),e(j,{modelValue:m.value,"onUpdate:modelValue":t[6]||(t[6]=l=>m.value=l),title:"创建数据集",width:"600px"},{footer:a(()=>[e(d,{onClick:t[5]||(t[5]=l=>m.value=!1)},{default:a(()=>t[13]||(t[13]=[r("取消",-1)])),_:1,__:[13]}),e(d,{type:"primary",onClick:x},{default:a(()=>t[14]||(t[14]=[r(" 创建 ",-1)])),_:1,__:[14]})]),default:a(()=>[e(J,{model:o.value,"label-width":"120px"},{default:a(()=>[e(p,{label:"数据集名称"},{default:a(()=>[e(b,{modelValue:o.value.name,"onUpdate:modelValue":t[1]||(t[1]=l=>o.value.name=l),placeholder:"请输入数据集名称"},null,8,["modelValue"])]),_:1}),e(p,{label:"数据集描述"},{default:a(()=>[e(b,{modelValue:o.value.description,"onUpdate:modelValue":t[2]||(t[2]=l=>o.value.description=l),type:"textarea",rows:3},null,8,["modelValue"])]),_:1}),e(p,{label:"数据用途"},{default:a(()=>[e(E,{modelValue:o.value.purpose,"onUpdate:modelValue":t[3]||(t[3]=l=>o.value.purpose=l),placeholder:"选择数据用途"},{default:a(()=>[e(u,{label:"微调",value:"finetune"}),e(u,{label:"测评",value:"evaluation"}),e(u,{label:"预训练",value:"pretrain"})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"数据格式"},{default:a(()=>[e(E,{modelValue:o.value.format,"onUpdate:modelValue":t[4]||(t[4]=l=>o.value.format=l),placeholder:"选择数据格式"},{default:a(()=>[e(u,{label:"JSON",value:"json"}),e(u,{label:"JSONL",value:"jsonl"}),e(u,{label:"CSV",value:"csv"}),e(u,{label:"TXT",value:"txt"})]),_:1},8,["modelValue"])]),_:1}),e(p,{label:"上传文件"},{default:a(()=>[e(O,{drag:"",action:"#","auto-upload":!1},{default:a(()=>[e(T,{class:"el-icon--upload"},{default:a(()=>[e(L(z))]),_:1}),t[12]||(t[12]=f("div",{class:"el-upload__text"},[r("将文件拖到此处，或"),f("em",null,"点击上传")],-1))]),_:1,__:[12]})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{De as default};
