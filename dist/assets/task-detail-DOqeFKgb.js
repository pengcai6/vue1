import{d as M,u as P,r as d,h as A,b as m,o as i,f as e,c as k,j as N,w as t,e as r,t as s,a as o,F as z,A as U,_ as j}from"./index-C1LNxWrc.js";import{E as H}from"./card-bOHwtd_N.js";import{E as q,a as G}from"./tab-pane-9YpSc03g.js";import{E as J}from"./button-CfgjJGa2.js";import{E as K}from"./empty-BrxsyPU7.js";import{E as Q,a as W}from"./table-column-QOtjyKSd.js";import"./checkbox-D429Hkk4.js";import"./scrollbar-CWDB5A-B.js";/* empty css            */import{E as X}from"./progress-D7FpNBk1.js";import{E as Y,a as Z}from"./descriptions-item-BClrjkTE.js";import"./divider-cQog8eF3.js";import{E as $}from"./page-header-BBTopnbj.js";import{g as ee,s as te}from"./storage-2nKQMLp0.js";import{E as ae}from"./index-gsKI2Iim.js";import{E as y}from"./index-JFsgmBjq.js";import"./strings-BOPxCUMK.js";import"./index-DRLRXOGd.js";import"./index-Dh5b_8aS.js";import"./_baseClone-0EgoVDGI.js";import"./_initCloneObject-T9RaIEd1.js";import"./isPlainObject-BS8VhLgB.js";import"./use-form-common-props-dMO5F-Xy.js";import"./_baseIteratee-CNffayvf.js";import"./isEqual-CFwnnDW_.js";import"./debounce-C4p0xsPh.js";const oe={class:"task-detail-page"},le={class:"text-2xl font-bold"},se={key:0,class:"mt-4"},ne={class:"mt-4"},re={class:"log-viewer"},ie={class:"log-time"},ce={class:"log-content"},me={key:0},ue={class:"mt-4 flex gap-3"},pe=M({__name:"task-detail",setup(de){const _=P(),a=d(null),b=d("overview"),h=d([{metric:"Training Loss",value:"0.352",description:"训练损失"},{metric:"Validation Loss",value:"0.428",description:"验证损失"},{metric:"Perplexity",value:"12.5",description:"困惑度"},{metric:"BLEU Score",value:"0.76",description:"翻译质量评分"}]),F=d([{time:"14:30:00",content:"[INFO] 开始加载基座模型..."},{time:"14:30:15",content:"[INFO] 模型加载完成"},{time:"14:30:20",content:"[INFO] 开始加载训练数据集..."},{time:"14:30:25",content:"[INFO] 数据集加载完成，共10000条样本"},{time:"14:30:30",content:"[INFO] 初始化LoRA配置..."},{time:"14:30:35",content:"[INFO] 开始训练 Epoch 1/3"},{time:"14:31:00",content:"[INFO] Epoch 1/3 - Loss: 0.521"},{time:"14:32:00",content:"[INFO] Epoch 2/3 - Loss: 0.398"},{time:"14:33:00",content:"[INFO] Epoch 3/3 - Loss: 0.352"},{time:"14:33:30",content:"[INFO] 训练完成，保存模型..."}]);function I(c){return{pending:"info",running:"warning",completed:"success",failed:"danger"}[c]||"info"}function T(c){return{pending:"等待中",running:"运行中",completed:"已完成",failed:"失败"}[c]||c}function x(){_.back()}function B(){te("eval-model",a.value),_.push("/model-evaluation/create-task"),y.success("跳转到模型评测页面")}function L(){_.push("/model-marketplace/playground"),y.success("跳转到在线体验页面")}return A(()=>{a.value=ee("current-finetune-task",null)}),(c,l)=>{const O=$,n=Z,C=ae,g=Y,S=X,u=G,f=W,V=Q,E=K,v=J,w=q,R=H;return i(),m("div",oe,[e(O,{onBack:x},{content:t(()=>[r("span",le,s(a.value?.taskName),1)]),_:1}),a.value?(i(),k(R,{key:0,class:"mt-4"},{default:t(()=>[e(w,{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=p=>b.value=p)},{default:t(()=>[e(u,{label:"概览信息",name:"overview"},{default:t(()=>[e(g,{column:2,border:""},{default:t(()=>[e(n,{label:"任务名称"},{default:t(()=>[o(s(a.value.taskName),1)]),_:1}),e(n,{label:"任务状态"},{default:t(()=>[e(C,{type:I(a.value.status)},{default:t(()=>[o(s(T(a.value.status)),1)]),_:1},8,["type"])]),_:1}),e(n,{label:"基座模型"},{default:t(()=>[o(s(a.value.baseModel),1)]),_:1}),e(n,{label:"数据集"},{default:t(()=>[o(s(a.value.dataset),1)]),_:1}),e(n,{label:"Learning Rate"},{default:t(()=>[o(s(a.value.learningRate),1)]),_:1}),e(n,{label:"Epochs"},{default:t(()=>[o(s(a.value.epochs),1)]),_:1}),e(n,{label:"Batch Size"},{default:t(()=>[o(s(a.value.batchSize),1)]),_:1}),e(n,{label:"LoRA Rank"},{default:t(()=>[o(s(a.value.loraRank),1)]),_:1}),e(n,{label:"创建时间",span:2},{default:t(()=>[o(s(a.value.createTime),1)]),_:1}),e(n,{label:"任务描述",span:2},{default:t(()=>[o(s(a.value.description),1)]),_:1})]),_:1}),a.value.status==="running"?(i(),m("div",se,[l[1]||(l[1]=r("h3",{class:"font-bold mb-2"},"训练进度",-1)),e(S,{percentage:a.value.progress,status:a.value.progress===100?"success":""},null,8,["percentage","status"])])):N("",!0)]),_:1}),e(u,{label:"效果指标",name:"metrics"},{default:t(()=>[e(V,{data:h.value,border:""},{default:t(()=>[e(f,{prop:"metric",label:"指标",width:"150"}),e(f,{prop:"value",label:"数值",align:"center"}),e(f,{prop:"description",label:"说明"})]),_:1},8,["data"]),r("div",ne,[l[2]||(l[2]=r("h3",{class:"font-bold mb-3"},"训练曲线",-1)),e(E,{description:"训练曲线图表区域（可接入ECharts）"})])]),_:1}),e(u,{label:"日志",name:"logs"},{default:t(()=>[r("div",re,[(i(!0),m(z,null,U(F.value,(p,D)=>(i(),m("div",{key:D,class:"log-line"},[r("span",ie,s(p.time),1),r("span",ce,s(p.content),1)]))),128))])]),_:1}),e(u,{label:"模型产出",name:"output"},{default:t(()=>[a.value.status==="completed"?(i(),m("div",me,[e(g,{column:2,border:""},{default:t(()=>[e(n,{label:"产出模型"},{default:t(()=>[o(s(a.value.taskName)+"-lora",1)]),_:1}),e(n,{label:"模型大小"},{default:t(()=>l[3]||(l[3]=[o("256 MB",-1)])),_:1,__:[3]}),e(n,{label:"保存路径"},{default:t(()=>[o("/models/"+s(a.value.taskName)+"/",1)]),_:1}),e(n,{label:"产出时间"},{default:t(()=>[o(s(a.value.createTime),1)]),_:1})]),_:1}),r("div",ue,[e(v,{type:"primary",onClick:B},{default:t(()=>l[4]||(l[4]=[o(" 发起评测 ",-1)])),_:1,__:[4]}),e(v,{onClick:L},{default:t(()=>l[5]||(l[5]=[o(" 立即体验 ",-1)])),_:1,__:[5]}),e(v,null,{default:t(()=>l[6]||(l[6]=[o(" 下载模型 ",-1)])),_:1,__:[6]})])])):(i(),k(E,{key:1,description:"任务完成后可查看模型产出"}))]),_:1})]),_:1},8,["modelValue"])]),_:1})):N("",!0)])}}}),ze=j(pe,[["__scopeId","data-v-bcf973ff"]]);export{ze as default};
