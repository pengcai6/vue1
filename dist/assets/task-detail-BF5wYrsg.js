import{d as M,r as d,j as P,c as u,a as e,l as k,m as N,w as t,o as m,b as i,n as s,i as o,F as z,D as A,u as J}from"./index-DAZDpghP.js";import{E as U}from"./card-_e8Y2itV.js";import{a as j,E as H}from"./tab-pane-CYGs3JAp.js";import{E as q}from"./button-CFFx6FdR.js";import{E as G}from"./empty-Ccmsp6rE.js";import{a as K,E as Q}from"./table-column-CkszfM6q.js";import"./checkbox-DDntw5na.js";import"./scrollbar-BKn1N4ug.js";/* empty css            */import{E as W}from"./progress-CA3fGClE.js";import{a as X,E as Y}from"./descriptions-item-DIjWwK7N.js";import"./divider-BbpLxVZK.js";import{E as Z}from"./page-header-CSj-dxiH.js";import{E as $}from"./index-i9SNigSW.js";import{E as y}from"./index-B4p_U5VT.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./strings-BN0-5NCg.js";import"./event-D5_Wo8Xc.js";import"./index-BtSJ9mPq.js";import"./_baseClone-BBryStzM.js";import"./isPlainObject-CnEW4LJ3.js";import"./index-17xiCnpu.js";import"./_baseIteratee-DgY2c_zD.js";import"./isEqual-DlB8YXyV.js";import"./debounce-Bv_84CHO.js";const te={class:"task-detail-page p-5"},ae={class:"text-2xl font-bold"},oe={key:0,class:"mt-4"},le={class:"mt-4"},se={class:"log-viewer"},ne={class:"log-time"},re={class:"log-content"},ie={key:0},ce={class:"mt-4 flex gap-3"},me=M({__name:"task-detail",setup(ue){const _=J(),a=d(null),b=d("overview"),I=d([{metric:"Training Loss",value:"0.352",description:"训练损失"},{metric:"Validation Loss",value:"0.428",description:"验证损失"},{metric:"Perplexity",value:"12.5",description:"困惑度"},{metric:"BLEU Score",value:"0.76",description:"翻译质量评分"}]),h=d([{time:"14:30:00",content:"[INFO] 开始加载基座模型..."},{time:"14:30:15",content:"[INFO] 模型加载完成"},{time:"14:30:20",content:"[INFO] 开始加载训练数据集..."},{time:"14:30:25",content:"[INFO] 数据集加载完成，共10000条样本"},{time:"14:30:30",content:"[INFO] 初始化LoRA配置..."},{time:"14:30:35",content:"[INFO] 开始训练 Epoch 1/3"},{time:"14:31:00",content:"[INFO] Epoch 1/3 - Loss: 0.521"},{time:"14:32:00",content:"[INFO] Epoch 2/3 - Loss: 0.398"},{time:"14:33:00",content:"[INFO] Epoch 3/3 - Loss: 0.352"},{time:"14:33:30",content:"[INFO] 训练完成，保存模型..."}]);function F(r){return{pending:"info",running:"warning",completed:"success",failed:"danger"}[r]||"info"}function O(r){return{pending:"等待中",running:"运行中",completed:"已完成",failed:"失败"}[r]||r}function T(){_.back()}function x(){localStorage.setItem("eval-model",JSON.stringify(a.value)),_.push("/model-evaluation/create-task"),y.success("跳转到模型评测页面")}function B(){_.push("/model-marketplace/playground"),y.success("跳转到在线体验页面")}return P(()=>{const r=localStorage.getItem("current-finetune-task");a.value=r?JSON.parse(r):null}),(r,l)=>{const L=Z,n=Y,S=$,g=X,C=W,p=j,f=Q,V=K,E=G,v=q,w=H,R=U;return m(),u("div",te,[e(L,{onBack:T},{content:t(()=>{var c;return[i("span",ae,s((c=a.value)==null?void 0:c.taskName),1)]}),_:1}),a.value?(m(),k(R,{key:0,class:"mt-4"},{default:t(()=>[e(w,{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=c=>b.value=c)},{default:t(()=>[e(p,{label:"概览信息",name:"overview"},{default:t(()=>[e(g,{column:2,border:""},{default:t(()=>[e(n,{label:"任务名称"},{default:t(()=>[o(s(a.value.taskName),1)]),_:1}),e(n,{label:"任务状态"},{default:t(()=>[e(S,{type:F(a.value.status)},{default:t(()=>[o(s(O(a.value.status)),1)]),_:1},8,["type"])]),_:1}),e(n,{label:"基座模型"},{default:t(()=>[o(s(a.value.baseModel),1)]),_:1}),e(n,{label:"数据集"},{default:t(()=>[o(s(a.value.dataset),1)]),_:1}),e(n,{label:"Learning Rate"},{default:t(()=>[o(s(a.value.learningRate),1)]),_:1}),e(n,{label:"Epochs"},{default:t(()=>[o(s(a.value.epochs),1)]),_:1}),e(n,{label:"Batch Size"},{default:t(()=>[o(s(a.value.batchSize),1)]),_:1}),e(n,{label:"LoRA Rank"},{default:t(()=>[o(s(a.value.loraRank),1)]),_:1}),e(n,{label:"创建时间",span:2},{default:t(()=>[o(s(a.value.createTime),1)]),_:1}),e(n,{label:"任务描述",span:2},{default:t(()=>[o(s(a.value.description),1)]),_:1})]),_:1}),a.value.status==="running"?(m(),u("div",oe,[l[1]||(l[1]=i("h3",{class:"font-bold mb-2"},"训练进度",-1)),e(C,{percentage:a.value.progress,status:a.value.progress===100?"success":""},null,8,["percentage","status"])])):N("",!0)]),_:1}),e(p,{label:"效果指标",name:"metrics"},{default:t(()=>[e(V,{data:I.value,border:""},{default:t(()=>[e(f,{prop:"metric",label:"指标",width:"150"}),e(f,{prop:"value",label:"数值",align:"center"}),e(f,{prop:"description",label:"说明"})]),_:1},8,["data"]),i("div",le,[l[2]||(l[2]=i("h3",{class:"font-bold mb-3"},"训练曲线",-1)),e(E,{description:"训练曲线图表区域（可接入ECharts）"})])]),_:1}),e(p,{label:"日志",name:"logs"},{default:t(()=>[i("div",se,[(m(!0),u(z,null,A(h.value,(c,D)=>(m(),u("div",{key:D,class:"log-line"},[i("span",ne,s(c.time),1),i("span",re,s(c.content),1)]))),128))])]),_:1}),e(p,{label:"模型产出",name:"output"},{default:t(()=>[a.value.status==="completed"?(m(),u("div",ie,[e(g,{column:2,border:""},{default:t(()=>[e(n,{label:"产出模型"},{default:t(()=>[o(s(a.value.taskName)+"-lora ",1)]),_:1}),e(n,{label:"模型大小"},{default:t(()=>l[3]||(l[3]=[o(" 256 MB ",-1)])),_:1,__:[3]}),e(n,{label:"保存路径"},{default:t(()=>[o(" /models/"+s(a.value.taskName)+"/ ",1)]),_:1}),e(n,{label:"产出时间"},{default:t(()=>[o(s(a.value.createTime),1)]),_:1})]),_:1}),i("div",ce,[e(v,{type:"primary",onClick:x},{default:t(()=>l[4]||(l[4]=[o(" 发起评测 ",-1)])),_:1,__:[4]}),e(v,{onClick:B},{default:t(()=>l[5]||(l[5]=[o(" 立即体验 ",-1)])),_:1,__:[5]}),e(v,null,{default:t(()=>l[6]||(l[6]=[o(" 下载模型 ",-1)])),_:1,__:[6]})])])):(m(),k(E,{key:1,description:"任务完成后可查看模型产出"}))]),_:1})]),_:1},8,["modelValue"])]),_:1})):N("",!0)])}}}),Me=ee(me,[["__scopeId","data-v-b1b91f5e"]]);export{Me as default};
