import{d as B,r as I,j as J,c as O,a as e,w as o,o as f,b as _,i,p as g,m as $,n as M,u as D,l as v}from"./index-BX2sZVyW.js";import{a as P,E as V}from"./table-column-DG__lvqo.js";import"./checkbox-B8dDd1Mj.js";import"./scrollbar-C9NSq6wy.js";import{E as L}from"./popover-RKPTbPoo.js";import{E as j}from"./button-Cn9gqGCu.js";/* empty css            */import{E as F}from"./card-B6phTZGW.js";import{E as G}from"./index-BFcHm1-Q.js";import"./event-BORzi4vc.js";import"./isPlainObject-jZyBOBeK.js";import"./debounce-DYp1oJWc.js";import"./index-PwB6y63X.js";import"./isEqual-ohjdCfDM.js";const R={class:"service-list-page p-5"},X={class:"flex items-center justify-between"},ie=B({__name:"service-list",setup(q){const r=D(),c=I([]);function y(){return[{id:"1",serviceName:"llama2-chat-service",status:"running",online:!0,modelName:"Llama-2-7B",replicas:3,cluster:"gpu-cluster-01",createTime:"2024-01-15 10:00:00"},{id:"2",serviceName:"chatglm-service",status:"running",online:!0,modelName:"ChatGLM-6B",replicas:2,cluster:"gpu-cluster-02",createTime:"2024-01-15 11:30:00"},{id:"3",serviceName:"sd-image-service",status:"stopped",online:!1,modelName:"Stable-Diffusion-XL",replicas:1,cluster:"gpu-cluster-01",createTime:"2024-01-14 15:00:00"}]}function k(){r.push("/model-deployment/one-click-deploy")}function C(n){localStorage.setItem("current-service",JSON.stringify(n)),r.push("/model-deployment/deployment-detail")}function N(n){localStorage.setItem("current-service",JSON.stringify(n)),r.push("/model-deployment/pod-logs")}function S(n){localStorage.setItem("current-service",JSON.stringify(n)),r.push("/model-deployment/performance-monitoring")}function b(n){localStorage.setItem("current-service",JSON.stringify(n)),r.push("/model-deployment/performance-testing")}function E(n){n.status="stopped",n.online=!1,p(),v.success("服务已停止")}function w(n){c.value=c.value.filter(t=>t.id!==n),p(),v.success("服务已删除")}function p(){localStorage.setItem("deployment-services",JSON.stringify(c.value))}function T(){const n=localStorage.getItem("deployment-services");c.value=n?JSON.parse(n):y()}return J(()=>{T()}),(n,t)=>{const a=j,u=F,s=V,d=G,h=L,x=P;return f(),O("div",R,[e(u,{class:"header-card"},{default:o(()=>[_("div",X,[t[1]||(t[1]=_("h2",{class:"text-2xl font-bold"},"模型服务列表",-1)),e(a,{type:"primary",onClick:k},{default:o(()=>t[0]||(t[0]=[i(" 一键部署 ",-1)])),_:1,__:[0]})])]),_:1}),e(u,{class:"mt-4"},{default:o(()=>[e(x,{data:c.value,stripe:"",style:{width:"100%"}},{default:o(()=>[e(s,{prop:"serviceName",label:"服务名称","min-width":"200"}),e(s,{label:"服务状态",width:"120",align:"center"},{default:o(({row:l})=>[e(d,{type:l.status==="running"?"success":"info"},{default:o(()=>[i(g(l.status==="running"?"运行中":"已停止"),1)]),_:2},1032,["type"])]),_:1}),e(s,{label:"上线状态",width:"120",align:"center"},{default:o(({row:l})=>[e(d,{type:l.online?"success":"warning"},{default:o(()=>[i(g(l.online?"已上线":"未上线"),1)]),_:2},1032,["type"])]),_:1}),e(s,{prop:"modelName",label:"模型名称","min-width":"180"}),e(s,{prop:"replicas",label:"副本数",width:"100",align:"center"}),e(s,{prop:"cluster",label:"集群","min-width":"150"}),e(s,{prop:"createTime",label:"创建时间",width:"180"}),e(s,{label:"操作",width:"380",fixed:"right"},{default:o(({row:l})=>[e(a,{link:"",type:"primary",onClick:m=>C(l)},{default:o(()=>t[2]||(t[2]=[i(" 详情 ",-1)])),_:2,__:[2]},1032,["onClick"]),e(a,{link:"",onClick:m=>N(l)},{default:o(()=>t[3]||(t[3]=[i(" Pod列表 ",-1)])),_:2,__:[3]},1032,["onClick"]),e(a,{link:"",onClick:m=>S(l)},{default:o(()=>t[4]||(t[4]=[i(" 性能监控 ",-1)])),_:2,__:[4]},1032,["onClick"]),e(a,{link:"",onClick:m=>b(l)},{default:o(()=>t[5]||(t[5]=[i(" 性能测试 ",-1)])),_:2,__:[5]},1032,["onClick"]),l.status==="running"?(f(),$(a,{key:0,link:"",type:"warning",onClick:m=>E(l)},{default:o(()=>t[6]||(t[6]=[i(" 停止 ",-1)])),_:2,__:[6]},1032,["onClick"])):M("",!0),e(h,{title:"确定要删除此服务吗？",onConfirm:m=>w(l.id)},{reference:o(()=>[e(a,{link:"",type:"danger"},{default:o(()=>t[7]||(t[7]=[i(" 删除 ",-1)])),_:1,__:[7]})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"])]),_:1})])}}});export{ie as default};
