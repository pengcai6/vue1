import{d as E,r as V,c as g,a as l,w as t,o as w,b as x,i as m,l as _,u as y}from"./index-BX2sZVyW.js";import{E as C}from"./card-B6phTZGW.js";import{E as N,a as U}from"./form-item-BCUJoI1X.js";import{E as B}from"./button-Cn9gqGCu.js";/* empty css                       */import{E as S,a as M}from"./checkbox-B8dDd1Mj.js";/* empty css            */import{E as L,a as q}from"./select-9k77N6f3.js";import"./scrollbar-C9NSq6wy.js";import{E as G}from"./input-5aB7ALv6.js";import"./event-BORzi4vc.js";import"./_baseClone-BOpOh07B.js";import"./index-PwB6y63X.js";import"./isEqual-ohjdCfDM.js";import"./index-BFcHm1-Q.js";import"./strings-JcT2fde-.js";import"./scroll-g5r06U3K.js";import"./debounce-DYp1oJWc.js";const I={class:"create-evaluation-task-page p-5"},ee=E({__name:"create-task",setup(O){const f=y(),a=V({taskName:"",description:"",models:[],datasets:[],metrics:["accuracy"]});function v(){if(!a.value.taskName||a.value.models.length===0||a.value.datasets.length===0){_.warning("请填写必填项");return}const n=localStorage.getItem("evaluation-tasks"),e=n?JSON.parse(n):[],r={id:Date.now().toString(),...a.value,status:"pending",progress:0,createTime:new Date().toLocaleString()};e.unshift(r),localStorage.setItem("evaluation-tasks",JSON.stringify(e)),_.success("测评任务创建成功"),f.push("/model-evaluation/task-list")}return(n,e)=>{const r=G,u=U,s=q,i=L,d=M,b=S,p=B,c=N,k=C;return w(),g("div",I,[l(k,null,{default:t(()=>[e[12]||(e[12]=x("h2",{class:"text-2xl font-bold mb-4"},"创建测评任务",-1)),l(c,{model:a.value,"label-width":"150px"},{default:t(()=>[l(u,{label:"任务名称",required:""},{default:t(()=>[l(r,{modelValue:a.value.taskName,"onUpdate:modelValue":e[0]||(e[0]=o=>a.value.taskName=o),placeholder:"请输入任务名称",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),l(u,{label:"任务描述"},{default:t(()=>[l(r,{modelValue:a.value.description,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.description=o),type:"textarea",rows:3,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),l(u,{label:"测评模型",required:""},{default:t(()=>[l(i,{modelValue:a.value.models,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.models=o),multiple:"",placeholder:"选择测评模型",style:{width:"100%"}},{default:t(()=>[l(s,{label:"Llama-2-7B",value:"llama-2-7b"}),l(s,{label:"ChatGLM-6B",value:"chatglm-6b"}),l(s,{label:"Qwen-7B",value:"qwen-7b"})]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"测评数据集",required:""},{default:t(()=>[l(i,{modelValue:a.value.datasets,"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.datasets=o),multiple:"",placeholder:"选择测评数据集",style:{width:"100%"}},{default:t(()=>[l(s,{label:"MMLU",value:"mmlu"}),l(s,{label:"C-Eval",value:"c-eval"}),l(s,{label:"GSM8K",value:"gsm8k"}),l(s,{label:"HumanEval",value:"humaneval"}),l(s,{label:"CMMLU",value:"cmmlu"})]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"测评指标"},{default:t(()=>[l(b,{modelValue:a.value.metrics,"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.metrics=o)},{default:t(()=>[l(d,{value:"accuracy"},{default:t(()=>e[6]||(e[6]=[m("准确率",-1)])),_:1,__:[6]}),l(d,{value:"f1"},{default:t(()=>e[7]||(e[7]=[m("F1分数",-1)])),_:1,__:[7]}),l(d,{value:"bleu"},{default:t(()=>e[8]||(e[8]=[m("BLEU",-1)])),_:1,__:[8]}),l(d,{value:"rouge"},{default:t(()=>e[9]||(e[9]=[m("ROUGE",-1)])),_:1,__:[9]})]),_:1},8,["modelValue"])]),_:1}),l(u,null,{default:t(()=>[l(p,{type:"primary",onClick:v},{default:t(()=>e[10]||(e[10]=[m("创建任务",-1)])),_:1,__:[10]}),l(p,{onClick:e[5]||(e[5]=o=>n.$router.back())},{default:t(()=>e[11]||(e[11]=[m("取消",-1)])),_:1,__:[11]})]),_:1})]),_:1},8,["model"])]),_:1,__:[12]})])}}});export{ee as default};
